/*! Magnific Popup - v1.0.0 - 2015-01-03
 * http://dimsemenov.com/plugins/magnific-popup/
 * Copyright (c) 2015 Dmitry Semenov; */ !function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):window.jQuery||window.Zepto)}(function(a){var k,l,m,n,o,p,q="Close",r="BeforeClose",s="MarkupParse",t="Open",u="Change",v=".mfp",w="mfp-ready",x="mfp-removing",y="mfp-prevent-close",b=function(){},z=!!window.jQuery,A=a(window),B=function(a,b){k.ev.on("mfp"+a+v,b)},C=function(e,c,d,f){var b=document.createElement("div");return b.className="mfp-"+e,d&&(b.innerHTML=d),f?c&&c.appendChild(b):(b=a(b),c&&b.appendTo(c)),b},D=function(b,c){k.ev.triggerHandler("mfp"+b,c),k.st.callbacks&&(b=b.charAt(0).toLowerCase()+b.slice(1),k.st.callbacks[b]&&k.st.callbacks[b].apply(k,a.isArray(c)?c:[c]))},E=function(b){return b===p&&k.currTemplate.closeBtn||(k.currTemplate.closeBtn=a(k.st.closeMarkup.replace("%title%",k.st.tClose)),p=b),k.currTemplate.closeBtn},c=function(){a.magnificPopup.instance||((k=new b).init(),a.magnificPopup.instance=k)},F=function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(void 0!==a.transition)return!0;for(;b.length;)if(b.pop()+"Transition" in a)return!0;return!1};b.prototype={constructor:b,init:function(){var b=navigator.appVersion;k.isIE7=-1!==b.indexOf("MSIE 7."),k.isIE8=-1!==b.indexOf("MSIE 8."),k.isLowIE=k.isIE7||k.isIE8,k.isAndroid=/android/gi.test(b),k.isIOS=/iphone|ipad|ipod/gi.test(b),k.supportsTransition=F(),k.probablyMobile=k.isAndroid||k.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),m=a(document),k.popupsCache={}},open:function(b){if(!1===b.isObj){k.items=b.items.toArray(),k.index=0;var c,d,h=b.items;for(c=0;c<h.length;c++)if((d=h[c]).parsed&&(d=d.el[0]),d===b.el[0]){k.index=c;break}}else k.items=a.isArray(b.items)?b.items:[b.items],k.index=b.index||0;if(k.isOpen)return void k.updateItemHTML();k.types=[],o="",k.ev=b.mainEl&&b.mainEl.length?b.mainEl.eq(0):m,b.key?(k.popupsCache[b.key]||(k.popupsCache[b.key]={}),k.currTemplate=k.popupsCache[b.key]):k.currTemplate={},k.st=a.extend(!0,{},a.magnificPopup.defaults,b),k.fixedContentPos="auto"===k.st.fixedContentPos?!k.probablyMobile:k.st.fixedContentPos,k.st.modal&&(k.st.closeOnContentClick=!1,k.st.closeOnBgClick=!1,k.st.showCloseBtn=!1,k.st.enableEscapeKey=!1),k.bgOverlay||(k.bgOverlay=C("bg").on("click"+v,function(){k.close()}),k.wrap=C("wrap").attr("tabindex",-1).on("click"+v,function(a){k._checkIfClose(a.target)&&k.close()}),k.container=C("container",k.wrap)),k.contentContainer=C("content"),k.st.preloader&&(k.preloader=C("preloader",k.container,k.st.tLoading));var i=a.magnificPopup.modules;for(c=0;c<i.length;c++){var e=i[c];k["init"+(e=e.charAt(0).toUpperCase()+e.slice(1))].call(k)}D("BeforeOpen"),k.st.showCloseBtn&&(k.st.closeBtnInside?(B(s,function(c,d,a,b){a.close_replaceWith=E(b.type)}),o+=" mfp-close-btn-in"):k.wrap.append(E())),k.st.alignTop&&(o+=" mfp-align-top"),k.wrap.css(k.fixedContentPos?{overflow:k.st.overflowY,overflowX:"hidden",overflowY:k.st.overflowY}:{top:A.scrollTop(),position:"absolute"}),!1!==k.st.fixedBgPos&&("auto"!==k.st.fixedBgPos||k.fixedContentPos)||k.bgOverlay.css({height:m.height(),position:"absolute"}),k.st.enableEscapeKey&&m.on("keyup"+v,function(a){27===a.keyCode&&k.close()}),A.on("resize"+v,function(){k.updateSize()}),k.st.closeOnContentClick||(o+=" mfp-auto-cursor"),o&&k.wrap.addClass(o);var j=k.wH=A.height(),f={};if(k.fixedContentPos&&k._hasScrollBar(j)){var l=k._getScrollbarSize();l&&(f.marginRight=l)}k.fixedContentPos&&(k.isIE7?a("body, html").css("overflow","hidden"):f.overflow="hidden");var g=k.st.mainClass;return k.isIE7&&(g+=" mfp-ie7"),g&&k._addClassToMFP(g),k.updateItemHTML(),D("BuildControls"),a("html").css(f),k.bgOverlay.add(k.wrap).prependTo(k.st.prependTo||a(document.body)),k._lastFocusedEl=document.activeElement,setTimeout(function(){k.content?(k._addClassToMFP(w),k._setFocus()):k.bgOverlay.addClass(w),m.on("focusin"+v,k._onFocusIn)},16),k.isOpen=!0,k.updateSize(j),D(t),b},close:function(){k.isOpen&&(D(r),k.isOpen=!1,k.st.removalDelay&&!k.isLowIE&&k.supportsTransition?(k._addClassToMFP(x),setTimeout(function(){k._close()},k.st.removalDelay)):k._close())},_close:function(){D(q);var b=x+" "+w+" ";if(k.bgOverlay.detach(),k.wrap.detach(),k.container.empty(),k.st.mainClass&&(b+=k.st.mainClass+" "),k._removeClassFromMFP(b),k.fixedContentPos){var c={marginRight:""};k.isIE7?a("body, html").css("overflow",""):c.overflow="",a("html").css(c)}m.off("keyup"+v+" focusin"+v),k.ev.off(v),k.wrap.attr("class","mfp-wrap").removeAttr("style"),k.bgOverlay.attr("class","mfp-bg"),k.container.attr("class","mfp-container"),!k.st.showCloseBtn||k.st.closeBtnInside&& !0!==k.currTemplate[k.currItem.type]||k.currTemplate.closeBtn&&k.currTemplate.closeBtn.detach(),k._lastFocusedEl&&a(k._lastFocusedEl).focus(),k.currItem=null,k.content=null,k.currTemplate=null,k.prevHeight=0,D("AfterClose")},updateSize:function(b){if(k.isIOS){var c=document.documentElement.clientWidth/window.innerWidth,a=window.innerHeight*c;k.wrap.css("height",a),k.wH=a}else k.wH=b||A.height();k.fixedContentPos||k.wrap.css("height",k.wH),D("Resize")},updateItemHTML:function(){var b=k.items[k.index];k.contentContainer.detach(),k.content&&k.content.detach(),b.parsed||(b=k.parseEl(k.index));var c=b.type;if(D("BeforeChange",[k.currItem?k.currItem.type:"",c]),k.currItem=b,!k.currTemplate[c]){var d=!!k.st[c]&&k.st[c].markup;D("FirstMarkupParse",d),k.currTemplate[c]=!d||a(d)}n&&n!==b.type&&k.container.removeClass("mfp-"+n+"-holder");var e=k["get"+c.charAt(0).toUpperCase()+c.slice(1)](b,k.currTemplate[c]);k.appendContent(e,c),b.preloaded=!0,D(u,b),n=b.type,k.container.prepend(k.contentContainer),D("AfterChange")},appendContent:function(a,b){k.content=a,a?k.st.showCloseBtn&&k.st.closeBtnInside&& !0===k.currTemplate[b]?k.content.find(".mfp-close").length||k.content.append(E()):k.content=a:k.content="",D("BeforeAppend"),k.container.addClass("mfp-"+b+"-holder"),k.contentContainer.append(k.content)},parseEl:function(c){var e,b=k.items[c];if(b.tagName?b={el:a(b)}:(e=b.type,b={data:b,src:b.src}),b.el){for(var f=k.types,d=0;d<f.length;d++)if(b.el.hasClass("mfp-"+f[d])){e=f[d];break}b.src=b.el.attr("data-mfp-src"),b.src||(b.src=b.el.attr("href"))}return b.type=e||k.st.type||"inline",b.index=c,b.parsed=!0,k.items[c]=b,D("ElementParse",b),k.items[c]},addGroup:function(c,a){var d=function(b){b.mfpEl=this,k._openClick(b,c,a)};a||(a={});var b="click.magnificPopup";a.mainEl=c,a.items?(a.isObj=!0,c.off(b).on(b,d)):(a.isObj=!1,a.delegate?c.off(b).on(b,a.delegate,d):(a.items=c,c.off(b).on(b,d)))},_openClick:function(c,e,b){if((void 0!==b.midClick?b.midClick:a.magnificPopup.defaults.midClick)||2!==c.which&&!c.ctrlKey&&!c.metaKey){var d=void 0!==b.disableOn?b.disableOn:a.magnificPopup.defaults.disableOn;if(d){if(a.isFunction(d)){if(!d.call(k))return!0}else if(A.width()<d)return!0}c.type&&(c.preventDefault(),k.isOpen&&c.stopPropagation()),b.el=a(c.mfpEl),b.delegate&&(b.items=e.find(b.delegate)),k.open(b)}},updateStatus:function(a,b){if(k.preloader){l!==a&&k.container.removeClass("mfp-s-"+l),b||"loading"!==a||(b=k.st.tLoading);var c={status:a,text:b};D("UpdateStatus",c),a=c.status,b=c.text,k.preloader.html(b),k.preloader.find("a").on("click",function(a){a.stopImmediatePropagation()}),k.container.addClass("mfp-s-"+a),l=a}},_checkIfClose:function(b){if(!a(b).hasClass(y)){var c=k.st.closeOnContentClick,d=k.st.closeOnBgClick;if(c&&d|| !k.content||a(b).hasClass("mfp-close")||k.preloader&&b===k.preloader[0])return!0;if(b===k.content[0]||a.contains(k.content[0],b)){if(c)return!0}else if(d&&a.contains(document,b))return!0;return!1}},_addClassToMFP:function(a){k.bgOverlay.addClass(a),k.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),k.wrap.removeClass(a)},_hasScrollBar:function(a){return(k.isIE7?m.height():document.body.scrollHeight)>(a||A.height())},_setFocus:function(){(k.st.focus?k.content.find(k.st.focus).eq(0):k.wrap).focus()},_onFocusIn:function(b){return b.target===k.wrap[0]||a.contains(k.wrap[0],b.target)?void 0:(k._setFocus(),!1)},_parseMarkup:function(d,b,c){var e;c.data&&(b=a.extend(c.data,b)),D(s,[d,b,c]),a.each(b,function(c,a){if(void 0===a|| !1===a)return!0;if((e=c.split("_")).length>1){var b=d.find(v+"-"+e[0]);if(b.length>0){var f=e[1];"replaceWith"===f?b[0]!==a[0]&&b.replaceWith(a):"img"===f?b.is("img")?b.attr("src",a):b.replaceWith('<img src="'+a+'" class="'+b.attr("class")+'" />'):b.attr(e[1],a)}}else d.find(v+"-"+c).html(a)})},_getScrollbarSize:function(){if(void 0===k.scrollbarSize){var a=document.createElement("div");a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(a),k.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return k.scrollbarSize}},a.magnificPopup={instance:null,proto:b.prototype,modules:[],open:function(b,d){return c(),(b=b?a.extend(!0,{},b):{}).isObj=!0,b.index=d||0,this.instance.open(b)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(c,b){b.options&&(a.magnificPopup.defaults[c]=b.options),a.extend(this.proto,b.proto),this.modules.push(c)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;<span class="visually-hidden">Close</span></button>',tClose:"Close (Esc)",tLoading:"Loading..."}},a.fn.magnificPopup=function(b){c();var d=a(this);if("string"==typeof b){if("open"===b){var e,f=z?d.data("magnificPopup"):d[0].magnificPopup,g=parseInt(arguments[1],10)||0;f.items?e=f.items[g]:(e=d,f.delegate&&(e=e.find(f.delegate)),e=e.eq(g)),k._openClick({mfpEl:e},d,f)}else k.isOpen&&k[b].apply(k,Array.prototype.slice.call(arguments,1))}else b=a.extend(!0,{},b),z?d.data("magnificPopup",b):d[0].magnificPopup=b,k.addGroup(d,b);return d};var G,H,I,d="inline",J=function(){I&&(H.after(I.addClass(G)).detach(),I=null)};a.magnificPopup.registerModule(d,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){k.types.push(d),B(q+"."+d,function(){J()})},getInline:function(c,d){if(J(),c.src){var e=k.st.inline,b=a(c.src);if(b.length){var f=b[0].parentNode;f&&f.tagName&&(H||(H=C(G=e.hiddenClass),G="mfp-"+G),I=b.after(H).detach().removeClass(G)),k.updateStatus("ready")}else k.updateStatus("error",e.tNotFound),b=a("<div>");return c.inlineElement=b,b}return k.updateStatus("ready"),k._parseMarkup(d,{},c),d}}});var K,e="ajax",L=function(){K&&a(document.body).removeClass(K)},M=function(){L(),k.req&&k.req.abort()};a.magnificPopup.registerModule(e,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){k.types.push(e),K=k.st.ajax.cursor,B(q+"."+e,M),B("BeforeChange."+e,M)},getAjax:function(b){K&&a(document.body).addClass(K),k.updateStatus("loading");var c=a.extend({url:b.src,success:function(d,g,f){var c={data:d,xhr:f};D("ParseAjax",c),k.appendContent(a(c.data),e),b.finished=!0,L(),k._setFocus(),setTimeout(function(){k.wrap.addClass(w)},16),k.updateStatus("ready"),D("AjaxContentAdded")},error:function(){L(),b.finished=b.loadError=!0,k.updateStatus("error",k.st.ajax.tError.replace("%url%",b.src))}},k.st.ajax.settings);return k.req=a.ajax(c),""}}});var N,O,P=function(b){if(b.data&& void 0!==b.data.title)return b.data.title;var c=k.st.image.titleSrc;if(c){if(a.isFunction(c))return c.call(k,b);if(b.el)return b.el.attr(c)||""}return""};a.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var c=k.st.image,b=".image";k.types.push("image"),B(t+b,function(){"image"===k.currItem.type&&c.cursor&&a(document.body).addClass(c.cursor)}),B(q+b,function(){c.cursor&&a(document.body).removeClass(c.cursor),A.off("resize"+v)}),B("Resize"+b,k.resizeImage),k.isLowIE&&B("AfterChange",k.resizeImage)},resizeImage:function(){var a=k.currItem;if(a&&a.img&&k.st.image.verticalFit){var b=0;k.isLowIE&&(b=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10)),a.img.css("max-height",k.wH-b)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,N&&clearInterval(N),a.isCheckingImgSize=!1,D("ImageHasSize",a),a.imgHidden&&(k.content&&k.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(a){var c=0,d=a.img[0],b=function(e){N&&clearInterval(N),N=setInterval(function(){return d.naturalWidth>0?void k._onImageHasSize(a):(c>200&&clearInterval(N),void(3== ++c?b(10):40===c?b(50):100===c&&b(500)))},e)};b(1)},getImage:function(b,c){var i=0,f=function(){b&&(b.img[0].complete?(b.img.off(".mfploader"),b===k.currItem&&(k._onImageHasSize(b),k.updateStatus("ready")),b.hasSize=!0,b.loaded=!0,D("ImageLoadComplete")):200> ++i?setTimeout(f,100):g())},g=function(){b&&(b.img.off(".mfploader"),b===k.currItem&&(k._onImageHasSize(b),k.updateStatus("error",h.tError.replace("%url%",b.src))),b.hasSize=!0,b.loaded=!0,b.loadError=!0)},h=k.st.image,e=c.find(".mfp-img");if(e.length){var d=document.createElement("img");d.className="mfp-img",b.el&&b.el.find("img").length&&(d.alt=b.el.find("img").attr("alt")),b.img=a(d).on("load.mfploader",f).on("error.mfploader",g),d.src=b.src,e.is("img")&&(b.img=b.img.clone()),(d=b.img[0]).naturalWidth>0?b.hasSize=!0:d.width||(b.hasSize=!1)}return k._parseMarkup(c,{title:P(b),img_replaceWith:b.img},b),k.resizeImage(),b.hasSize?(N&&clearInterval(N),b.loadError?(c.addClass("mfp-loading"),k.updateStatus("error",h.tError.replace("%url%",b.src))):(c.removeClass("mfp-loading"),k.updateStatus("ready")),c):(k.updateStatus("loading"),b.loading=!0,b.hasSize||(b.imgHidden=!0,c.addClass("mfp-loading"),k.findImageSize(b)),c)}}}),a.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var c,b=k.st.zoom,a=".zoom";if(b.enabled&&k.supportsTransition){var d,e,f=b.duration,g=function(e){var d=e.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),f="all "+b.duration/1e3+"s "+b.easing,a={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},c="transition";return a["-webkit-"+c]=a["-moz-"+c]=a["-o-"+c]=a[c]=f,d.css(a),d},h=function(){k.content.css("visibility","visible")};B("BuildControls"+a,function(){if(k._allowZoom()){if(clearTimeout(d),k.content.css("visibility","hidden"),!(c=k._getItemToZoom()))return void h();(e=g(c)).css(k._getOffset()),k.wrap.append(e),d=setTimeout(function(){e.css(k._getOffset(!0)),d=setTimeout(function(){h(),setTimeout(function(){e.remove(),c=e=null,D("ZoomAnimationEnded")},16)},f)},16)}}),B(r+a,function(){if(k._allowZoom()){if(clearTimeout(d),k.st.removalDelay=f,!c){if(!(c=k._getItemToZoom()))return;e=g(c)}e.css(k._getOffset(!0)),k.wrap.append(e),k.content.css("visibility","hidden"),setTimeout(function(){e.css(k._getOffset())},16)}}),B(q+a,function(){k._allowZoom()&&(h(),e&&e.remove(),c=null)})}},_allowZoom:function(){return"image"===k.currItem.type},_getItemToZoom:function(){return!!k.currItem.hasSize&&k.currItem.img},_getOffset:function(f){var b,c=(b=f?k.currItem.img:k.st.zoom.opener(k.currItem.el||k.currItem)).offset(),e=parseInt(b.css("padding-top"),10),g=parseInt(b.css("padding-bottom"),10);c.top-=a(window).scrollTop()-e;var d={width:b.width(),height:(z?b.innerHeight():b[0].offsetHeight)-g-e};return(void 0===O&&(O=void 0!==document.createElement("p").style.MozTransform),O)?d["-moz-transform"]=d.transform="translate("+c.left+"px,"+c.top+"px)":(d.left=c.left,d.top=c.top),d}}});var f="iframe",Q=function(b){if(k.currTemplate[f]){var a=k.currTemplate[f].find("iframe");a.length&&(b||(a[0].src="//about:blank"),k.isIE8&&a.css("display",b?"block":"none"))}};a.magnificPopup.registerModule(f,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"https://www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){k.types.push(f),B("BeforeChange",function(c,a,b){a!==b&&(a===f?Q():b===f&&Q(!0))}),B(q+"."+f,function(){Q()})},getIframe:function(c,d){var f=c.src,b=k.st.iframe;a.each(b.patterns,function(){return f.indexOf(this.index)> -1?(this.id&&(f="string"==typeof this.id?f.substr(f.lastIndexOf(this.id)+this.id.length,f.length):this.id.call(this,f)),f=this.src.replace("%id%",f),!1):void 0});var e={};return b.srcAction&&(e[b.srcAction]=f),k._parseMarkup(d,e,c),k.updateStatus("ready"),d}}});var R=function(a){var b=k.items.length;return a>b-1?a-b:0>a?b+a:a},S=function(a,b,c){return a.replace(/%curr%/gi,b+1).replace(/%total%/gi,c)};a.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var c=k.st.gallery,b=".mfp-gallery",d=Boolean(a.fn.mfpFastClick);return k.direction=!0,!!c&&!!c.enabled&&(o+=" mfp-gallery",B(t+b,function(){c.navigateByImgClick&&k.wrap.on("click"+b,".mfp-img",function(){return k.items.length>1?(k.next(),!1):void 0}),m.on("keydown"+b,function(a){37===a.keyCode?k.prev():39===a.keyCode&&k.next()})}),B("UpdateStatus"+b,function(b,a){a.text&&(a.text=S(a.text,k.currItem.index,k.items.length))}),B(s+b,function(e,f,b,d){var a=k.items.length;b.counter=a>1?S(c.tCounter,d.index,a):""}),B("BuildControls"+b,function(){if(k.items.length>1&&c.arrows&&!k.arrowLeft){var f=c.arrowMarkup,b=k.arrowLeft=a(f.replace(/%title%/gi,c.tPrev).replace(/%dir%/gi,"left")).addClass(y),e=k.arrowRight=a(f.replace(/%title%/gi,c.tNext).replace(/%dir%/gi,"right")).addClass(y),g=d?"mfpFastClick":"click";b[g](function(){k.prev()}),e[g](function(){k.next()}),k.isIE7&&(C("b",b[0],!1,!0),C("a",b[0],!1,!0),C("b",e[0],!1,!0),C("a",e[0],!1,!0)),k.container.append(b.add(e))}}),B(u+b,function(){k._preloadTimeout&&clearTimeout(k._preloadTimeout),k._preloadTimeout=setTimeout(function(){k.preloadNearbyImages(),k._preloadTimeout=null},16)}),void B(q+b,function(){m.off(b),k.wrap.off("click"+b),k.arrowLeft&&d&&k.arrowLeft.add(k.arrowRight).destroyMfpFastClick(),k.arrowRight=k.arrowLeft=null}))},next:function(){k.direction=!0,k.index=R(k.index+1),k.updateItemHTML()},prev:function(){k.direction=!1,k.index=R(k.index-1),k.updateItemHTML()},goTo:function(a){k.direction=a>=k.index,k.index=a,k.updateItemHTML()},preloadNearbyImages:function(){var a,b=k.st.gallery.preload,c=Math.min(b[0],k.items.length),d=Math.min(b[1],k.items.length);for(a=1;a<=(k.direction?d:c);a++)k._preloadItem(k.index+a);for(a=1;a<=(k.direction?c:d);a++)k._preloadItem(k.index-a)},_preloadItem:function(c){if(c=R(c),!k.items[c].preloaded){var b=k.items[c];b.parsed||(b=k.parseEl(c)),D("LazyLoad",b),"image"===b.type&&(b.img=a('<img class="mfp-img" />').on("load.mfploader",function(){b.hasSize=!0}).on("error.mfploader",function(){b.hasSize=!0,b.loadError=!0,D("LazyLoadError",b)}).attr("src",b.src)),b.preloaded=!0}}}});var g,h,i,j="retina";a.magnificPopup.registerModule(j,{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return"@2x"+a})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var b=k.st.retina,a=b.ratio;(a=isNaN(a)?a():a)>1&&(B("ImageHasSize."+j,function(c,b){b.img.css({"max-width":b.img[0].naturalWidth/a,width:"100%"})}),B("ElementParse."+j,function(d,c){c.src=b.replaceSrc(c,a)}))}}}}),g="ontouchstart"in window,h=function(){A.off("touchmove"+i+" touchend"+i)},i=".mfpFastClick",a.fn.mfpFastClick=function(b){return a(this).each(function(){var d,e,f,j,k,l,m,c=a(this);g&&c.on("touchstart"+i,function(a){j=!1,l=1,e=(k=a.originalEvent?a.originalEvent.touches[0]:a.touches[0]).clientX,f=k.clientY,A.on("touchmove"+i,function(a){l=(k=a.originalEvent?a.originalEvent.touches:a.touches).length,k=k[0],(Math.abs(k.clientX-e)>10||Math.abs(k.clientY-f)>10)&&(j=!0,h())}).on("touchend"+i,function(a){h(),j||l>1||(m=!0,a.preventDefault(),clearTimeout(d),d=setTimeout(function(){m=!1},1e3),b())})}),c.on("click"+i,function(){m||b()})})},a.fn.destroyMfpFastClick=function(){a(this).off("touchstart"+i+" click"+i),g&&A.off("touchmove"+i+" touchend"+i)},c()})